"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.readRequirements = void 0;
const fs_1 = __importDefault(require("fs"));
/**
 * Read the requirements.txt file and return a set of dependencies
 * @param filePath
 * @returns set of all dependencies names
 */
const readRequirements = (filePath) => {
    const content = fs_1.default.readFileSync(filePath, 'utf8');
    const lines = content.split('\n');
    const requirements = {};
    for (const line of lines) {
        const trimmedLine = line.trim();
        // Skip empty lines and comments
        if (!trimmedLine || trimmedLine.startsWith('#')) {
            continue;
        }
        // Extract package name (everything before version specifiers)
        const packageMatch = trimmedLine.match(/^([a-zA-Z0-9_-]+)/);
        if (packageMatch) {
            const packageName = packageMatch[1];
            requirements[packageName] = trimmedLine;
        }
    }
    return requirements;
};
exports.readRequirements = readRequirements;
