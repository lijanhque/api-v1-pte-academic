import type { StateAdapter, StateItem, StateItemsInput } from '@motiadev/core';
import { type RedisClientOptions, type RedisClientType } from 'redis';
import type { RedisStateAdapterOptions } from './types';
export declare class RedisStateAdapter implements StateAdapter {
    private client;
    private keyPrefix;
    private ttl?;
    private connected;
    private isExternalClient;
    constructor(redisConnection: RedisClientType | RedisClientOptions, options?: RedisStateAdapterOptions);
    private connect;
    private ensureConnected;
    private makeKey;
    private makeTracePrefix;
    private extractKey;
    private determineType;
    get<T>(traceId: string, key: string): Promise<T | null>;
    set<T>(traceId: string, key: string, value: T): Promise<T>;
    delete<T>(traceId: string, key: string): Promise<T | null>;
    getGroup<T>(traceId: string): Promise<T[]>;
    clear(traceId: string): Promise<void>;
    cleanup(): Promise<void>;
    keys(traceId: string): Promise<string[]>;
    traceIds(): Promise<string[]>;
    items(input: StateItemsInput): Promise<StateItem[]>;
    private scanKeys;
    private applyFilters;
    private matchesFilter;
}
//# sourceMappingURL=redis-state-adapter.d.ts.map