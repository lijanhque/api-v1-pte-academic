import type { SocketAdapterFactory } from './adapter-factory';
import type { SocketAdapter } from './socket-adapter';
import { StreamGroupSubscription } from './stream-group';
import { StreamItemSubscription } from './stream-item';
export declare class Stream {
    private adapterFactory;
    private ws;
    private listeners;
    constructor(adapterFactory: SocketAdapterFactory);
    createSocket(): SocketAdapter;
    /**
     * Subscribe to an item in a stream.
     *
     * @argument streamName - The name of the stream to subscribe to.
     * @argument groupId - The id of the group to subscribe to.
     * @argument id - The id of the item to subscribe to.
     */
    subscribeItem<TData extends {
        id: string;
    }>(streamName: string, groupId: string, id: string): StreamItemSubscription<TData>;
    /**
     * Subscribe to a group in a stream.
     *
     * @argument streamName - The name of the stream to subscribe to.
     * @argument groupId - The id of the group to subscribe to.
     */
    subscribeGroup<TData extends {
        id: string;
    }>(streamName: string, groupId: string, sortKey?: keyof TData): StreamGroupSubscription<TData>;
    close(): void;
    private onSocketClose;
    private onSocketOpen;
    messageListener(event: string): void;
    private subscribe;
    private join;
    private leave;
    private roomName;
}
