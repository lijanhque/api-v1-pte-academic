import type { CustomEvent, JoinMessage, Listener } from './stream.types';
type CustomEventListener = (event: any) => void;
export declare abstract class StreamSubscription<TData = unknown, TEventData = unknown> {
    private customEventListeners;
    private closeListeners;
    private onChangeListeners;
    private state;
    readonly sub: JoinMessage;
    constructor(sub: JoinMessage, state: TData);
    abstract listener(message: TEventData): void;
    protected onEventReceived(event: CustomEvent): void;
    /**
     * Add a custom event listener. This listener will be called whenever the custom event is received.
     */
    onEvent(type: string, listener: CustomEventListener): void;
    /**
     * Remove a custom event listener.
     */
    offEvent(type: string, listener: CustomEventListener): void;
    onClose(listener: () => void): void;
    close(): void;
    /**
     * Add a change listener. This listener will be called whenever the state of the group changes.
     */
    addChangeListener(listener: Listener<TData>): void;
    /**
     * Remove a change listener.
     */
    removeChangeListener(listener: Listener<TData>): void;
    /**
     * Get the current state of the group.
     */
    getState(): TData;
    protected setState(state: TData): void;
}
export {};
