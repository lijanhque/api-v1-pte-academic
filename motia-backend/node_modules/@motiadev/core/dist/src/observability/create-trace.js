"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createTrace = void 0;
const crypto_1 = require("crypto");
const createTrace = (traceGroup, step) => {
    const id = (0, crypto_1.randomUUID)();
    const trace = {
        id,
        name: step.config.name,
        correlationId: traceGroup.correlationId,
        parentTraceId: traceGroup.id,
        status: 'running',
        startTime: Date.now(),
        endTime: undefined,
        entryPoint: { type: step.config.type, stepName: step.config.name },
        events: [],
    };
    traceGroup.metadata.totalSteps++;
    traceGroup.metadata.activeSteps++;
    return trace;
};
exports.createTrace = createTrace;
