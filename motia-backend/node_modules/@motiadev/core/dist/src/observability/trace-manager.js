"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.TraceManager = void 0;
class TraceManager {
    constructor(traceStream, traceGroupStream, traceGroup, trace) {
        this.traceStream = traceStream;
        this.traceGroupStream = traceGroupStream;
        this.traceGroup = traceGroup;
        this.trace = trace;
        this.updateTrace();
        this.updateTraceGroup();
    }
    updateTrace() {
        this.traceStream.set(this.traceGroup.id, this.trace.id, this.trace);
    }
    updateTraceGroup() {
        this.traceGroupStream.set('default', this.traceGroup.id, this.traceGroup);
    }
    child(trace) {
        return new TraceManager(this.traceStream, this.traceGroupStream, this.traceGroup, trace);
    }
}
exports.TraceManager = TraceManager;
