import { type Logger } from './logger';
import type { Event, Handler, QueueConfig } from './types';
export declare class QueueError extends Error {
    constructor(message: string);
}
export declare class HandlerTimeoutError extends QueueError {
    constructor(message: string);
}
export declare class MaxRetriesError extends QueueError {
    readonly attempts: number;
    constructor(message: string, attempts: number);
}
export type QueueMetrics = {
    queueDepth: number;
    processingCount: number;
    retriesCount: number;
    dlqCount: number;
};
export declare class QueueManager {
    private logger;
    private queues;
    private subscriptions;
    private lockedGroups;
    private queueEmitter;
    private scheduledTimeouts;
    private metrics;
    private processingMessages;
    constructor(logger?: Logger);
    private initMetrics;
    private updateMetric;
    private processQueue;
    private processMessage;
    private removeMessageFromQueue;
    private scheduleProcessing;
    enqueue<TData>(topic: string, event: Event<TData>, messageGroupId?: string): Promise<void>;
    subscribe(topic: string, handler: Handler, queueConfig: QueueConfig, subscriptionId: string): void;
    unsubscribe(topic: string, handler: Handler): void;
    getMetrics(topic: string): QueueMetrics | undefined;
    getAllMetrics(): Record<string, QueueMetrics>;
    reset(): void;
}
//# sourceMappingURL=queue-manager.d.ts.map