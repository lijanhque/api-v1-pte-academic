import { WebSocket } from 'ws';
export class StreamSocketAdapter {
    constructor(address) {
        this.address = address;
        this.ws = new WebSocket(this.address);
    }
    connect() { }
    send(message) {
        this.ws.send(message);
    }
    onMessage(callback) {
        const listener = (message) => callback(message.data.toString());
        this.ws.addEventListener('message', listener);
    }
    onOpen(callback) {
        this.ws.addEventListener('open', callback);
    }
    onClose(callback) {
        this.ws.addEventListener('close', callback);
    }
    close() {
        this.ws.close();
        this.ws.removeAllListeners();
    }
    isOpen() {
        return this.ws.readyState === WebSocket.OPEN;
    }
}
