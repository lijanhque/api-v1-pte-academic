import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { Button } from '@motiadev/ui';
import { Book } from 'lucide-react';
import { motiaAnalytics } from '@/lib/motia-analytics';
import { Tooltip } from '../ui/tooltip';
import { useTutorial } from './hooks/use-tutorial';
export const TutorialButton = () => {
    const { open, steps } = useTutorial();
    const isTutorialFlowMissing = steps.length === 0;
    const onTutorialButtonClick = () => {
        if (!isTutorialFlowMissing) {
            open();
        }
        motiaAnalytics.track('tutorial_button_clicked', { isTutorialFlowMissing });
    };
    const trigger = (_jsxs(Button, { "data-testid": "tutorial-trigger", variant: "default", onClick: () => onTutorialButtonClick(), children: [_jsx(Book, { className: "h-4 w-4" }), "Tutorial"] }));
    if (isTutorialFlowMissing) {
        return (_jsx(Tooltip, { content: _jsxs("div", { className: "flex flex-col gap-4 p-4 max-w-[320px]", children: [_jsx("p", { className: "text-sm wrap-break-word p-0 m-0", children: "In order to start the tutorial, you need to download the tutorial steps using the Motia CLI. In your terminal execute the following command to create a new project:" }), _jsx("pre", { className: "text-sm font-bold", children: "npx motia@latest create" })] }), children: trigger }));
    }
    return trigger;
};
